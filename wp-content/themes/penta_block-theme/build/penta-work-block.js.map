{"version":3,"file":"penta-work-block.js","mappings":"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","sources":["webpack://penta_block-theme/external window [\"wp\",\"apiFetch\"]","webpack://penta_block-theme/external window [\"wp\",\"element\"]","webpack://penta_block-theme/external window [\"wp\",\"i18n\"]","webpack://penta_block-theme/webpack/bootstrap","webpack://penta_block-theme/webpack/runtime/compat get default export","webpack://penta_block-theme/webpack/runtime/define property getters","webpack://penta_block-theme/webpack/runtime/hasOwnProperty shorthand","webpack://penta_block-theme/webpack/runtime/make namespace object","webpack://penta_block-theme/./penta-blocks/penta-work-block.js"],"sourcesContent":["module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { useState, useEffect, useRef } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { __ } from '@wordpress/i18n';\n\nwp.blocks.registerBlockType(\"pentaportfoliogrid/penta-work-block\", {\n    title: __(\"Penta Work Block\", \"work by category\"),\n    icon: \"grid-view\",\n    edit: EditComponent,\n    save: SaveComponent,\n});\n\nfunction EditComponent() {\n    const [categories, setCategories] = useState([]);\n    const [postsByCategory, setPostsByCategory] = useState({});\n    const containerRefs = useRef([]);\n    const btnRefs = useRef([]);\n\n    useEffect(() => {\n        // Fetch posts with categories from the custom API\n        apiFetch({ path: '/custom/v1/all-posts?parent=4' }).then((fetchedPosts) => {\n            const uniqueCategories = [];\n            fetchedPosts.forEach(post => {\n                post.categories.forEach(cat => {\n                    if (!uniqueCategories.some(category => category.id === cat.id)) {\n                        uniqueCategories.push(cat);\n                    }\n                });\n            });\n\n            setCategories(uniqueCategories);\n\n            const newPostsByCategory = {};\n            uniqueCategories.forEach(category => {\n                newPostsByCategory[category.id] = fetchedPosts.filter(post =>\n                    post.categories.some(cat => cat.id === category.id)\n                );\n            });\n\n            setPostsByCategory(newPostsByCategory);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (!categories.length || !Object.keys(postsByCategory).length) return;\n\n        containerRefs.current.forEach((container, index) => {\n            if (!container) return; // Skip if ref is not assigned\n\n            const btnLeft = btnRefs.current[index]?.left;\n            const btnRight = btnRefs.current[index]?.right;\n\n            const handleMouseEnter = () => {\n                if (btnLeft) btnLeft.classList.remove(\"transparent\");\n                if (btnRight) btnRight.classList.remove(\"transparent\");\n            };\n\n            const handleMouseLeave = () => {\n                if (btnLeft) btnLeft.classList.add(\"transparent\");\n                if (btnRight) btnRight.classList.add(\"transparent\");\n            };\n\n            const handleScrollClick = (direction) => {\n                container.scrollLeft += direction === \"left\" ? -200 : 200;\n            };\n\n            container.addEventListener(\"mouseenter\", handleMouseEnter);\n            container.addEventListener(\"mouseleave\", handleMouseLeave);\n\n            if (btnLeft) {\n                btnLeft.addEventListener(\"click\", () => handleScrollClick(\"left\"));\n            }\n            if (btnRight) {\n                btnRight.addEventListener(\"click\", () => handleScrollClick(\"right\"));\n            }\n\n            // Cleanup function to remove event listeners\n            return () => {\n                container.removeEventListener(\"mouseenter\", handleMouseEnter);\n                container.removeEventListener(\"mouseleave\", handleMouseLeave);\n                if (btnLeft) btnLeft.removeEventListener(\"click\", () => handleScrollClick(\"left\"));\n                if (btnRight) btnRight.removeEventListener(\"click\", () => handleScrollClick(\"right\"));\n            };\n        });\n    }, [categories, postsByCategory]);\n\n    const renderWorkContainer = () => {\n        return categories.map((category, index) => {\n            const posts = postsByCategory[category.id] || [];\n\n            return (\n                <div key={category.id}>\n                    <h2 className=\"work-cat-title\">{category.name}</h2>\n                    <div\n                        className=\"work-cat-container\"\n                        ref={(el) => (containerRefs.current[index] = el)}\n                    >\n                        <div className=\"work-feed-container\">\n                            {posts.length > 0 ? (\n                                posts.map((post) => {\n                                    const featuredImage = post.featured_img_src || 'path/to/default-image.jpg';\n                                    const postTitle = post.title || 'No Title Available';\n\n                                    return (\n                                        <a key={post.id} href={post.link}>\n                                            {featuredImage ? (\n                                                <img\n                                                    src={featuredImage}\n                                                    alt={postTitle}\n                                                    loading=\"lazy\"\n                                                    style={{\n                                                        height: '198px',\n                                                        width: '300px',\n                                                        objectFit: 'cover',\n                                                    }}\n                                                />\n                                            ) : (\n                                                <div className=\"placeholder\">No Image</div>\n                                            )}\n                                            <div>\n                                                <h4>{postTitle}</h4>\n                                            </div>\n                                        </a>\n                                    );\n                                })\n                            ) : (\n                                <p>No posts available for this category.</p>\n                            )}\n                        </div>\n                        <div\n                            className=\"slide-left btns transparent\"\n                            ref={(el) => {\n                                if (!btnRefs.current[index]) {\n                                    btnRefs.current[index] = {};\n                                }\n                                btnRefs.current[index].left = el;\n                            }}\n                        >\n                            <div className=\"chevron-left\"></div>\n                        </div>\n                        <div\n                            className=\"slide-right btns transparent\"\n                            ref={(el) => {\n                                if (!btnRefs.current[index]) {\n                                    btnRefs.current[index] = {};\n                                }\n                                btnRefs.current[index].right = el;\n                            }}\n                        >\n                            <div className=\"chevron-right\"></div>\n                        </div>\n                    </div>\n                </div>\n            );\n        });\n    };\n\n    return (\n        <div className=\"main-grid\">\n            <article className=\"main-grid-full\">\n                {renderWorkContainer()}\n            </article>\n        </div>\n    );\n}\n\nfunction SaveComponent() {\n    return null; // Render handled on the server via PHP template\n}\n"],"names":["useState","useEffect","useRef","apiFetch","__","wp","blocks","registerBlockType","title","icon","edit","EditComponent","save","SaveComponent","categories","setCategories","postsByCategory","setPostsByCategory","containerRefs","btnRefs","path","then","fetchedPosts","uniqueCategories","forEach","post","cat","some","category","id","push","newPostsByCategory","filter","length","Object","keys","current","container","index","btnLeft","left","btnRight","right","handleMouseEnter","classList","remove","handleMouseLeave","add","handleScrollClick","direction","scrollLeft","addEventListener","removeEventListener","renderWorkContainer","map","posts","createElement","key","className","name","ref","el","featuredImage","featured_img_src","postTitle","href","link","src","alt","loading","style","height","width","objectFit"],"sourceRoot":""}