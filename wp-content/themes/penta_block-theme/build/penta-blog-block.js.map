{"version":3,"file":"penta-blog-block.js","mappings":"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","sources":["webpack://penta_block-theme/./penta-blocks/penta-cat-menu-1.js","webpack://penta_block-theme/external window [\"wp\",\"apiFetch\"]","webpack://penta_block-theme/external window [\"wp\",\"element\"]","webpack://penta_block-theme/external window [\"wp\",\"i18n\"]","webpack://penta_block-theme/webpack/bootstrap","webpack://penta_block-theme/webpack/runtime/compat get default export","webpack://penta_block-theme/webpack/runtime/define property getters","webpack://penta_block-theme/webpack/runtime/hasOwnProperty shorthand","webpack://penta_block-theme/webpack/runtime/make namespace object","webpack://penta_block-theme/./penta-blocks/penta-blog-block.js"],"sourcesContent":["// penta-cat-menu-1.js\nimport { useState, useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\n\nconst CatMenuOne = ({\n  menuLocation     = 'catNavOne',\n  onMenuLoad       = () => {},\n  onCategorySelect = () => {},\n}) => {\n  const [menuItems, setMenuItems] = useState([]);\n  const [error, setError]         = useState(null);\n\n  useEffect(() => {\n    if (!menuLocation) {\n      setError('No Menu Location provided');\n      return;\n    }\n\n    const restPath = `mytheme/v1/menu-items/${menuLocation}`;\n    apiFetch({ path: restPath })\n      .then((items) => {\n        setMenuItems(items);\n        const categoryIds = items\n          .filter(item => item.object === 'category')\n          .map(item => item.object_id);\n        onMenuLoad(categoryIds);\n      })\n      .catch((err) => {\n        setError(err.message || 'Fetch error');\n        onMenuLoad([]);\n      });\n  }, [menuLocation]);\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  if (!menuItems.length) {\n    return <div>Loading menuâ€¦</div>;\n  }\n\n  return (\n    <nav className=\"cat-menu-container main-grid-full\" aria-label=\"Category Menu\">\n      <ul>\n        <li>\n          <a\n            href=\"#\"\n            className=\"cat-menu-item\"\n            onClick={(e) => {\n              e.preventDefault();\n              onCategorySelect(null);\n            }}\n          >\n            <h5>All</h5>\n          </a>\n        </li>\n        {menuItems.map(item => {\n          if (item.object !== 'category') {\n            return null;\n          }\n          return (\n            <li key={item.ID}>\n              <a\n                href=\"#\"\n                className=\"cat-menu-item\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  onCategorySelect(item.object_id);\n                }}\n              >\n                <h5>{item.title}</h5>\n              </a>\n            </li>\n          );\n        })}\n      </ul>\n    </nav>\n  );\n};\n\nexport default CatMenuOne;\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { useState, useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { __ } from '@wordpress/i18n';\nimport CatMenuOne from './penta-cat-menu-1';\n\nwp.blocks.registerBlockType('pentablocktheme/penta-blog-block', {\n    title: 'Penta Blog Block',\n    icon: 'grid-view',\n    edit: EditComponent,\n    save: SaveComponent,\n});\n\nfunction EditComponent( props ) {\n    const { attributes } = props;\n    const { menuLocation } = attributes;\n    const [posts, setPosts] = useState([]);\n    const [selectedCategory, setSelectedCategory] = useState(null);\n    const [categoryIds, setCategoryIds] = useState([]);\n\n    // Fetch posts whenever selectedCategory or categoryIds change\n    useEffect(() => {\n        if (categoryIds.length === 0 && selectedCategory === null) {\n            return;\n        }\n\n        const categoriesParam = selectedCategory !== null\n            ? selectedCategory\n            : categoryIds.join(',');\n\n        apiFetch({\n            path: `/wp/v2/posts?categories=${categoriesParam}&per_page=20&_embed`,\n        })\n            .then(setPosts)\n            .catch(() => setPosts([]));\n    }, [selectedCategory, categoryIds]);\n\n    // Called once when CatMenuOne loads the menu\n    const handleMenuLoad = (ids) => {\n        setCategoryIds(ids);\n    };\n\n    // Called when a menu item is clicked\n    const handleCategorySelect = (catId) => {\n        setSelectedCategory(catId);\n    };\n\n    const renderPostContainer = () =>\n        posts.map((post) => {\n            const featuredImage = post._embedded?.['wp:featuredmedia']?.[0]?.source_url;\n            return (\n                <div key={post.id} className=\"post-item\">\n                    <a href={post.link}>\n                        <div className=\"post-img-container\">\n                            {featuredImage ? (\n                                <img\n                                    src={featuredImage}\n                                    alt={post.title.rendered}\n                                    loading=\"lazy\"\n                                    style={{\n                                        height: '100%',\n                                        width: '100%',\n                                        objectFit: 'cover',\n                                    }}\n                                />\n                            ) : (\n                                <div className=\"placeholder\">No Image</div>\n                            )}\n                        </div>\n                        <div className=\"post-intro\">\n                            <h3>{post.title.rendered}</h3>\n                            <div\n                                dangerouslySetInnerHTML={{ __html: post.excerpt.rendered }}\n                            />\n                        </div>\n                    </a>\n                </div>\n            );\n        });\n\n    return (\n        <>\n            <CatMenuOne\n                menuLocation={ menuLocation }\n                onMenuLoad={ handleMenuLoad }\n                onCategorySelect={ handleCategorySelect }\n            />\n\n            <div className=\"main-grid\">\n                <article className=\"post-container main-grid-full\">\n                    {renderPostContainer()}\n                </article>\n            </div>\n        </>\n    );\n}\n\nfunction SaveComponent() {\n    return null; // Rendered on the server via PHP\n}\n\nexport default EditComponent;\n"],"names":["useState","useEffect","apiFetch","CatMenuOne","menuLocation","onMenuLoad","onCategorySelect","menuItems","setMenuItems","error","setError","restPath","path","then","items","categoryIds","filter","item","object","map","object_id","catch","err","message","createElement","length","className","href","onClick","e","preventDefault","key","ID","title","__","wp","blocks","registerBlockType","icon","edit","EditComponent","save","SaveComponent","props","attributes","posts","setPosts","selectedCategory","setSelectedCategory","setCategoryIds","categoriesParam","join","handleMenuLoad","ids","handleCategorySelect","catId","renderPostContainer","post","featuredImage","_embedded","source_url","id","link","src","alt","rendered","loading","style","height","width","objectFit","dangerouslySetInnerHTML","__html","excerpt","Fragment"],"sourceRoot":""}